<h2>Gerenciar Eventos</h2>

<form (ngSubmit)="salvarEvento()">
  <input [(ngModel)]="novoEvento.titulo" name="titulo" placeholder="Título" required>
  <textarea [(ngModel)]="novoEvento.descricao" name="descricao" placeholder="Descrição" required></textarea>
  <input [(ngModel)]="novoEvento.data" type="date" name="data" required>
  <input [(ngModel)]="novoEvento.local" name="local" placeholder="Local" required>

  <button type="submit">
    {{ editando ? 'Salvar alterações' : 'Cadastrar' }}
  </button>
  <button *ngIf="editando" type="button" (click)="cancelarEdicao()">Cancelar</button>
</form>

<form (ngSubmit)="salvarEventoComImagem()" enctype="multipart/form-data">
  <input [(ngModel)]="novoEvento.titulo" name="titulo" placeholder="Título" required>
  <textarea [(ngModel)]="novoEvento.descricao" name="descricao" placeholder="Descrição" required></textarea>
  <input [(ngModel)]="novoEvento.data" type="date" name="data" required>
  <input [(ngModel)]="novoEvento.local" name="local" placeholder="Local" required>
  <input type="file" (change)="onArquivoSelecionado($event)">
  <button type="submit">{{ editando ? 'Salvar alterações' : 'Cadastrar' }}</button>
</form>

<hr>

<ul>
  <li *ngFor="let e of eventos">
    <b>{{ e.titulo }}</b> - {{ e.data | date }} - {{ e.local }}
    <button (click)="editarEvento(e)">Editar</button>
    <button (click)="deletarEvento(e.id!)">Excluir</button>
  </li>
</ul>
