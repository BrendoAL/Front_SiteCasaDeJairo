<h2>Gerenciar Transparência</h2>

<!-- Formulário sem imagem -->
<form (ngSubmit)="salvarRegistro()">
  <input [(ngModel)]="novoRegistro.titulo" name="titulo" placeholder="Título" required>
  <textarea [(ngModel)]="novoRegistro.descricao" name="descricao" placeholder="Descrição" required></textarea>
  <input [(ngModel)]="novoRegistro.data" type="date" name="data">

  <button type="submit">
    {{ editando ? 'Salvar alterações' : 'Cadastrar' }}
  </button>
  <button *ngIf="editando" type="button" (click)="cancelarEdicao()">Cancelar</button>
</form>

<!-- Formulário com upload de imagem -->
<form (ngSubmit)="salvarRegistroComImagem()" enctype="multipart/form-data">
  <input [(ngModel)]="novoRegistro.titulo" name="titulo" placeholder="Título" required>
  <textarea [(ngModel)]="novoRegistro.descricao" name="descricao" placeholder="Descrição" required></textarea>
  <input [(ngModel)]="novoRegistro.data" type="date" name="data">
  <input type="file" (change)="onArquivoSelecionado($event)">
  
  <button type="submit">
    {{ editando ? 'Salvar alterações' : 'Cadastrar' }}
  </button>
</form>

<hr>

<!-- Lista de registros -->
<ul>
  <li *ngFor="let t of registros">
    <b>{{ t.titulo }}</b> - {{ t.data | date }}
    <p>{{ t.descricao }}</p>

    <button (click)="editarRegistro(t)">Editar</button>
    <button (click)="deletarRegistro(t.id!)">Excluir</button>
  </li>
</ul>

